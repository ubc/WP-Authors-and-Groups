{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wp-author-groups/external window \"ReactJSXRuntime\"","webpack://wp-author-groups/webpack/bootstrap","webpack://wp-author-groups/webpack/runtime/compat get default export","webpack://wp-author-groups/webpack/runtime/define property getters","webpack://wp-author-groups/webpack/runtime/hasOwnProperty shorthand","webpack://wp-author-groups/webpack/runtime/make namespace object","webpack://wp-author-groups/./index.js"],"sourcesContent":["module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","(function (wp) {\n\tconst { registerPlugin } = wp.plugins;\n\tconst { PluginDocumentSettingPanel } = wp.editPost;\n\tconst { CheckboxControl } = wp.components;\n\tconst { useSelect, useDispatch } = wp.data;\n\tconst { __ } = wp.i18n;\n\tconst { useState, useEffect, useCallback, useRef } = wp.element;\n\tconst apiFetch = wp.apiFetch;\n\n\tconst AuthorGroupsPanel = () => {\n\t\tconst { meta, postType } = useSelect((select) => {\n\t\t\treturn {\n\t\t\t\tmeta: select('core/editor').getEditedPostAttribute('meta'),\n\t\t\t\tpostType: select('core/editor').getCurrentPostType(),\n\t\t\t};\n\t\t}, []);\n\n\t\t// Get current selected users - expect array of user IDs\n\t\tconst currentSelectedUsers = meta?.['wp_authors_and_groups_selected_users'] || [];\n\n\t\t// Get current selected groups - expect array of group term IDs\n\t\tconst currentSelectedGroups = meta?.['wp_authors_and_groups_selected_groups'] || [];\n\n\t\t// State for selected user IDs\n\t\tconst [selectedUsers, setSelectedUsers] = useState(\n\t\t\tArray.isArray(currentSelectedUsers) ? currentSelectedUsers : []\n\t\t);\n\n\t\t// State for selected group IDs\n\t\tconst [selectedGroups, setSelectedGroups] = useState(\n\t\t\tArray.isArray(currentSelectedGroups) ? currentSelectedGroups : []\n\t\t);\n\n\t\t// State for users list\n\t\tconst [users, setUsers] = useState([]);\n\t\tconst [isLoadingUsers, setIsLoadingUsers] = useState(true);\n\n\t\t// State for user groups list\n\t\tconst [userGroups, setUserGroups] = useState([]);\n\t\tconst [isLoadingGroups, setIsLoadingGroups] = useState(true);\n\n\t\t// Fetch users on component mount\n\t\tuseEffect(() => {\n\t\t\tapiFetch({\n\t\t\t\tpath: '/wp/v2/users?per_page=100&orderby=name&order=asc',\n\t\t\t})\n\t\t\t\t.then((fetchedUsers) => {\n\t\t\t\t\tsetUsers(fetchedUsers);\n\t\t\t\t\tsetIsLoadingUsers(false);\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tsetIsLoadingUsers(false);\n\t\t\t\t});\n\t\t}, []);\n\n\t\t// Fetch user groups on component mount\n\t\tuseEffect(() => {\n\t\t\tapiFetch({\n\t\t\t\tpath: '/wp-authors-and-groups/v1/user-groups',\n\t\t\t})\n\t\t\t\t.then((fetchedGroups) => {\n\t\t\t\t\tsetUserGroups(fetchedGroups);\n\t\t\t\t\tsetIsLoadingGroups(false);\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tsetIsLoadingGroups(false);\n\t\t\t\t});\n\t\t}, []);\n\n\t\t// Handle checkbox change for groups\n\t\tconst handleGroupToggle = useCallback((groupId, isChecked) => {\n\t\t\tsetSelectedGroups((prev) => {\n\t\t\t\tif (isChecked) {\n\t\t\t\t\treturn prev.includes(groupId) ? prev : [...prev, groupId];\n\t\t\t\t} else {\n\t\t\t\t\treturn prev.filter((id) => id !== groupId);\n\t\t\t\t}\n\t\t\t});\n\t\t}, []);\n\n\t\tconst handleUserToggle = useCallback((userId, isChecked) => {\n\t\t\tsetSelectedUsers((prev) => {\n\t\t\t\tif (isChecked) {\n\t\t\t\t\treturn prev.includes(userId) ? prev : [...prev, userId];\n\t\t\t\t} else {\n\t\t\t\t\treturn prev.filter((id) => id !== userId);\n\t\t\t\t}\n\t\t\t});\n\t\t}, []);\n\n\t\t// Only show for posts and pages\n\t\tif (postType !== 'post' && postType !== 'page') {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst isLoading = isLoadingUsers || isLoadingGroups;\n\n\t\treturn (\n\t\t\t<PluginDocumentSettingPanel\n\t\t\t\tname=\"wp-authors-and-groups-panel\"\n\t\t\t\ttitle={__('Authors and Groups', 'wp-authors-and-groups')}\n\t\t\t\tclassName=\"wp-authors-and-groups-panel\"\n\t\t\t\tinitialOpen={true}\n\t\t\t>\n\t\t\t\t{isLoading ? (\n\t\t\t\t\t<p>{__('Loading...', 'wp-authors-and-groups')}</p>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{userGroups.length > 0 && (\n\t\t\t\t\t\t\t<div className=\"wp-authors-and-groups-section\">\n\t\t\t\t\t\t\t\t<h4>{__('User Groups', 'wp-authors-and-groups')}</h4>\n\t\t\t\t\t\t\t\t<div className=\"wp-authors-and-groups-checkboxes\">\n\t\t\t\t\t\t\t\t\t{userGroups.map((group) => (\n\t\t\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\t\t\tkey={group.id}\n\t\t\t\t\t\t\t\t\t\t\tlabel={group.name}\n\t\t\t\t\t\t\t\t\t\t\tchecked={selectedGroups.includes(group.id)}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(checked) => handleGroupToggle(group.id, checked)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{users.length > 0 && (\n\t\t\t\t\t\t\t<div className=\"wp-authors-and-groups-section\">\n\t\t\t\t\t\t\t\t<h4>{__('Users', 'wp-authors-and-groups')}</h4>\n\t\t\t\t\t\t\t\t<div className=\"wp-authors-and-groups-checkboxes\">\n\t\t\t\t\t\t\t\t\t{users.map((user) => (\n\t\t\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\t\t\tkey={user.id}\n\t\t\t\t\t\t\t\t\t\t\tlabel={user.name}\n\t\t\t\t\t\t\t\t\t\t\tchecked={selectedUsers.includes(user.id)}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(checked) => handleUserToggle(user.id, checked)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{userGroups.length === 0 && users.length === 0 && (\n\t\t\t\t\t\t\t<p>{__('No user groups or users found.', 'wp-authors-and-groups')}</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</PluginDocumentSettingPanel>\n\t\t);\n\t};\n\n\tregisterPlugin('wp-authors-and-groups', {\n\t\trender: AuthorGroupsPanel,\n\t\ticon: 'groups',\n\t});\n})(window.wp);"],"names":["wp","registerPlugin","plugins","PluginDocumentSettingPanel","editPost","CheckboxControl","components","useSelect","useDispatch","data","__","i18n","useState","useEffect","useCallback","useRef","element","apiFetch","AuthorGroupsPanel","meta","postType","select","getEditedPostAttribute","getCurrentPostType","currentSelectedUsers","currentSelectedGroups","selectedUsers","setSelectedUsers","Array","isArray","selectedGroups","setSelectedGroups","users","setUsers","isLoadingUsers","setIsLoadingUsers","userGroups","setUserGroups","isLoadingGroups","setIsLoadingGroups","path","then","fetchedUsers","catch","fetchedGroups","handleGroupToggle","groupId","isChecked","prev","includes","filter","id","handleUserToggle","userId","isLoading","_jsx","name","title","className","initialOpen","children","_jsxs","_Fragment","length","map","group","label","checked","onChange","user","render","icon","window"],"ignoreList":[],"sourceRoot":""}